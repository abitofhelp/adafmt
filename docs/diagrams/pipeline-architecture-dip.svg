<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1073px" preserveAspectRatio="none" style="width:2430px;height:1073px;background:#FFFFFF;" version="1.1" viewBox="0 0 2430 1073" width="2430px" zoomAndPan="magnify"><title>Pipeline Architecture with DIP Compliance</title><defs/><g><g class="title" data-source-line="2"><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="525.8086" x="948.0287" y="37.1182">Pipeline Architecture with DIP Compliance</text></g><!--class Stage--><g class="entity" data-entity="Stage" data-source-line="5" data-uid="ent0002" id="entity_Stage"><rect fill="#FFFFFF" height="78.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="162.3662" x="909.83" y="454.8673"/><ellipse cx="966.9946" cy="468.8673" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M963.4223,465.1324 L963.4223,462.9742 L970.8017,462.9742 L970.8017,465.1324 L968.3363,465.1324 L968.3363,473.2091 L970.8017,473.2091 L970.8017,475.3673 L963.4223,475.3673 L963.4223,473.2091 L965.8876,473.2091 L965.8876,465.1324 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="40.5371" x="984.4946" y="474.4352">Stage</text><line style="stroke:#000000;stroke-width:1;" x1="910.83" x2="1071.1962" y1="482.8673" y2="482.8673"/><ellipse cx="920.83" cy="496.8746" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69.2891" x="927.83" y="500.9425">name: str</text><line style="stroke:#000000;stroke-width:1;" x1="910.83" x2="1071.1962" y1="507.882" y2="507.882"/><ellipse cx="920.83" cy="521.8893" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138.3662" x="927.83" y="525.9571">process(item: T): R</text></g><!--class LSPOperation--><g class="entity" data-entity="LSPOperation" data-source-line="10" data-uid="ent0003" id="entity_LSPOperation"><rect fill="#FFFFFF" height="78.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="367.7451" x="660.14" y="798.9573"/><ellipse cx="792.7699" cy="812.9573" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M789.1976,809.2224 L789.1976,807.0642 L796.577,807.0642 L796.577,809.2224 L794.1117,809.2224 L794.1117,817.2991 L796.577,817.2991 L796.577,819.4573 L789.1976,819.4573 L789.1976,817.2991 L791.6629,817.2991 L791.6629,809.2224 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="94.9854" x="810.2699" y="818.5252">LSPOperation</text><line style="stroke:#000000;stroke-width:1;" x1="661.14" x2="1026.8851" y1="826.9573" y2="826.9573"/><line style="stroke:#000000;stroke-width:1;" x1="661.14" x2="1026.8851" y1="834.9573" y2="834.9573"/><ellipse cx="671.14" cy="848.9646" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="343.7451" x="678.14" y="853.0325">prepare_request(target: Path, content: str): dict</text><ellipse cx="671.14" cy="865.9793" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="258.2344" x="678.14" y="870.0471">process_response(response: dict): T</text></g><!--class Pipeline--><g class="entity" data-entity="Pipeline" data-source-line="16" data-uid="ent0004" id="entity_Pipeline"><rect fill="#FFFFFF" height="146.0879" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="500.2871" x="868.87" y="231.7873"/><ellipse cx="1088.1488" cy="245.7873" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M1090.622,251.9304 Q1090.0409,252.2292 1089.4017,252.3786 Q1088.7626,252.528 1088.057,252.528 Q1085.5502,252.528 1084.2304,250.8762 Q1082.9105,249.2243 1082.9105,246.1032 Q1082.9105,242.9738 1084.2304,241.322 Q1085.5502,239.6701 1088.057,239.6701 Q1088.7626,239.6701 1089.41,239.8195 Q1090.0575,239.9689 1090.622,240.2678 L1090.622,242.9904 Q1089.9911,242.4094 1089.3976,242.1396 Q1088.8041,241.8698 1088.1732,241.8698 Q1086.8285,241.8698 1086.1437,242.9365 Q1085.4589,244.0031 1085.4589,246.1032 Q1085.4589,248.195 1086.1437,249.2617 Q1086.8285,250.3283 1088.1732,250.3283 Q1088.8041,250.3283 1089.3976,250.0585 Q1089.9911,249.7888 1090.622,249.2077 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="54.2295" x="1105.6488" y="251.3552">Pipeline</text><line style="stroke:#000000;stroke-width:1;" x1="869.87" x2="1368.1571" y1="259.7873" y2="259.7873"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="876.87" y="270.7946"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="130.6211" x="886.87" y="277.8625">stages: list[Stage]</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="876.87" y="287.8093"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="155.8936" x="886.87" y="294.8771">event_bus: IEventBus</text><line style="stroke:#000000;stroke-width:1;" x1="869.87" x2="1368.1571" y1="301.8166" y2="301.8166"/><ellipse cx="879.87" cy="315.8239" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="241.377" x="886.87" y="319.8918">add_stage(stage: Stage): Pipeline</text><ellipse cx="879.87" cy="332.8386" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="271.5029" x="886.87" y="336.9064">set_als_client(client: IALSClient): void</text><ellipse cx="879.87" cy="349.8532" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="305.1973" x="886.87" y="353.9211">process(item: T): Result[PipelineResult[R]]</text><ellipse cx="879.87" cy="366.8679" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="476.2871" x="886.87" y="370.9357">process_stream(items: AsyncIterator[T]): AsyncIterator[Result[R]]</text></g><!--class ParseStage--><g class="entity" data-entity="ParseStage" data-source-line="26" data-uid="ent0005" id="entity_ParseStage"><rect fill="#FFFFFF" height="95.0439" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="302.0313" x="12" y="618.4073"/><ellipse cx="119.7573" cy="632.4073" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M122.2305,638.5504 Q121.6494,638.8492 121.0103,638.9986 Q120.3711,639.148 119.6655,639.148 Q117.1587,639.148 115.8389,637.4962 Q114.519,635.8443 114.519,632.7232 Q114.519,629.5938 115.8389,627.942 Q117.1587,626.2901 119.6655,626.2901 Q120.3711,626.2901 121.0186,626.4395 Q121.666,626.5889 122.2305,626.8878 L122.2305,629.6104 Q121.5996,629.0294 121.0061,628.7596 Q120.4126,628.4898 119.7817,628.4898 Q118.437,628.4898 117.7522,629.5565 Q117.0674,630.6231 117.0674,632.7232 Q117.0674,634.815 117.7522,635.8817 Q118.437,636.9483 119.7817,636.9483 Q120.4126,636.9483 121.0061,636.6785 Q121.5996,636.4088 122.2305,635.8277 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="79.0166" x="137.2573" y="637.9752">ParseStage</text><line style="stroke:#000000;stroke-width:1;" x1="13" x2="313.0313" y1="646.4073" y2="646.4073"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="20" y="657.4146"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="157.9648" x="30" y="664.4825">parser: IParserService</text><ellipse cx="23" cy="677.4293" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="142.1807" x="30" y="681.4971">name: str = "parse"</text><line style="stroke:#000000;stroke-width:1;" x1="13" x2="313.0313" y1="688.4366" y2="688.4366"/><ellipse cx="23" cy="702.4439" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="278.0313" x="30" y="706.5118">process(file_data: FileData): ParsedFile</text></g><!--class ValidateStage--><g class="entity" data-entity="ValidateStage" data-source-line="32" data-uid="ent0006" id="entity_ValidateStage"><rect fill="#FFFFFF" height="95.0439" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="320.8438" x="419.59" y="618.4073"/><ellipse cx="527.6584" cy="632.4073" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M530.1315,638.5504 Q529.5504,638.8492 528.9113,638.9986 Q528.2721,639.148 527.5666,639.148 Q525.0597,639.148 523.7399,637.4962 Q522.4201,635.8443 522.4201,632.7232 Q522.4201,629.5938 523.7399,627.942 Q525.0597,626.2901 527.5666,626.2901 Q528.2721,626.2901 528.9196,626.4395 Q529.5671,626.5889 530.1315,626.8878 L530.1315,629.6104 Q529.5006,629.0294 528.9071,628.7596 Q528.3136,628.4898 527.6828,628.4898 Q526.338,628.4898 525.6532,629.5565 Q524.9684,630.6231 524.9684,632.7232 Q524.9684,634.815 525.6532,635.8817 Q526.338,636.9483 527.6828,636.9483 Q528.3136,636.9483 528.9071,636.6785 Q529.5006,636.4088 530.1315,635.8277 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="97.207" x="545.1584" y="637.9752">ValidateStage</text><line style="stroke:#000000;stroke-width:1;" x1="420.59" x2="739.4337" y1="646.4073" y2="646.4073"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="427.59" y="657.4146"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="181.9521" x="437.59" y="664.4825">validators: list[IValidator]</text><ellipse cx="430.59" cy="677.4293" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="158.8057" x="437.59" y="681.4971">name: str = "validate"</text><line style="stroke:#000000;stroke-width:1;" x1="420.59" x2="739.4337" y1="688.4366" y2="688.4366"/><ellipse cx="430.59" cy="702.4439" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="296.8438" x="437.59" y="706.5118">process(parsed: ParsedFile): ValidatedFile</text></g><!--class LSPStage--><g class="entity" data-entity="LSPStage" data-source-line="38" data-uid="ent0007" id="entity_LSPStage"><rect fill="#FFFFFF" height="112.0586" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="360.4854" x="810.77" y="609.8973"/><ellipse cx="954.081" cy="623.8973" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M956.5542,630.0404 Q955.9731,630.3392 955.334,630.4886 Q954.6948,630.638 953.9892,630.638 Q951.4824,630.638 950.1626,628.9862 Q948.8428,627.3343 948.8428,624.2132 Q948.8428,621.0838 950.1626,619.432 Q951.4824,617.7801 953.9892,617.7801 Q954.6948,617.7801 955.3423,617.9295 Q955.9897,618.0789 956.5542,618.3778 L956.5542,621.1004 Q955.9233,620.5194 955.3298,620.2496 Q954.7363,619.9798 954.1054,619.9798 Q952.7607,619.9798 952.0759,621.0465 Q951.3911,622.1131 951.3911,624.2132 Q951.3911,626.305 952.0759,627.3717 Q952.7607,628.4383 954.1054,628.4383 Q954.7363,628.4383 955.3298,628.1685 Q955.9233,627.8988 956.5542,627.3177 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="66.3633" x="971.581" y="629.4652">LSPStage</text><line style="stroke:#000000;stroke-width:1;" x1="811.77" x2="1170.2554" y1="637.8973" y2="637.8973"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="818.77" y="648.9046"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="150.418" x="828.77" y="655.9725">als_client: IALSClient</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="818.77" y="665.9193"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="172.9219" x="828.77" y="672.9871">operation: LSPOperation</text><ellipse cx="821.77" cy="685.9339" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="123.2998" x="828.77" y="690.0018">name: str = "lsp"</text><line style="stroke:#000000;stroke-width:1;" x1="811.77" x2="1170.2554" y1="696.9413" y2="696.9413"/><ellipse cx="821.77" cy="710.9486" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="336.4854" x="828.77" y="715.0164">process(validated: ValidatedFile): ProcessedFile</text></g><!--class PatternStage--><g class="entity" data-entity="PatternStage" data-source-line="45" data-uid="ent0008" id="entity_PatternStage"><rect fill="#FFFFFF" height="112.0586" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="374.1436" x="1205.94" y="609.8973"/><ellipse cx="1343.4542" cy="623.8973" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M1345.9273,630.0404 Q1345.3463,630.3392 1344.7071,630.4886 Q1344.0679,630.638 1343.3624,630.638 Q1340.8555,630.638 1339.5357,628.9862 Q1338.2159,627.3343 1338.2159,624.2132 Q1338.2159,621.0838 1339.5357,619.432 Q1340.8555,617.7801 1343.3624,617.7801 Q1344.0679,617.7801 1344.7154,617.9295 Q1345.3629,618.0789 1345.9273,618.3778 L1345.9273,621.1004 Q1345.2964,620.5194 1344.7029,620.2496 Q1344.1094,619.9798 1343.4786,619.9798 Q1342.1338,619.9798 1341.449,621.0465 Q1340.7642,622.1131 1340.7642,624.2132 Q1340.7642,626.305 1341.449,627.3717 Q1342.1338,628.4383 1343.4786,628.4383 Q1344.1094,628.4383 1344.7029,628.1685 Q1345.2964,627.8988 1345.9273,627.3177 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="91.6152" x="1360.9542" y="629.4652">PatternStage</text><line style="stroke:#000000;stroke-width:1;" x1="1206.94" x2="1579.0836" y1="637.8973" y2="637.8973"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="1213.94" y="648.9046"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="154.1777" x="1223.94" y="655.9725">patterns: list[Pattern]</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="1213.94" y="665.9193"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.6885" x="1223.94" y="672.9871">phase: str</text><ellipse cx="1216.94" cy="685.9339" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="154.7793" x="1223.94" y="690.0018">name: str = "pattern"</text><line style="stroke:#000000;stroke-width:1;" x1="1206.94" x2="1579.0836" y1="696.9413" y2="696.9413"/><ellipse cx="1216.94" cy="710.9486" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="350.1436" x="1223.94" y="715.0164">process(processed: ProcessedFile): FormattedFile</text></g><!--class GNATValidationStage--><g class="entity" data-entity="GNATValidationStage" data-source-line="52" data-uid="ent0009" id="entity_GNATValidationStage"><rect fill="#FFFFFF" height="95.0439" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="375.6201" x="1633.21" y="618.4073"/><ellipse cx="1742.4746" cy="632.4073" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M1744.9478,638.5504 Q1744.3667,638.8492 1743.7276,638.9986 Q1743.0884,639.148 1742.3829,639.148 Q1739.876,639.148 1738.5562,637.4962 Q1737.2364,635.8443 1737.2364,632.7232 Q1737.2364,629.5938 1738.5562,627.942 Q1739.876,626.2901 1742.3829,626.2901 Q1743.0884,626.2901 1743.7359,626.4395 Q1744.3833,626.5889 1744.9478,626.8878 L1744.9478,629.6104 Q1744.3169,629.0294 1743.7234,628.7596 Q1743.1299,628.4898 1742.4991,628.4898 Q1741.1543,628.4898 1740.4695,629.5565 Q1739.7847,630.6231 1739.7847,632.7232 Q1739.7847,634.815 1740.4695,635.8817 Q1741.1543,636.9483 1742.4991,636.9483 Q1743.1299,636.9483 1743.7234,636.6785 Q1744.3169,636.4088 1744.9478,635.8277 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="149.5908" x="1759.9746" y="637.9752">GNATValidationStage</text><line style="stroke:#000000;stroke-width:1;" x1="1634.21" x2="2007.8301" y1="646.4073" y2="646.4073"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="1641.21" y="657.4146"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="221.3818" x="1651.21" y="664.4825">gnat_validator: IGNATValidator</text><ellipse cx="1644.21" cy="677.4293" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="212.0713" x="1651.21" y="681.4971">name: str = "gnat_validation"</text><line style="stroke:#000000;stroke-width:1;" x1="1634.21" x2="2007.8301" y1="688.4366" y2="688.4366"/><ellipse cx="1644.21" cy="702.4439" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="351.6201" x="1651.21" y="706.5118">process(formatted: FormattedFile): FormattedFile</text></g><!--class FormatOperation--><g class="entity" data-entity="FormatOperation" data-source-line="59" data-uid="ent0010" id="entity_FormatOperation"><rect fill="#FFFFFF" height="95.0439" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="367.7451" x="458.14" y="962.4973"/><ellipse cx="578.6429" cy="976.4973" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M581.1161,982.6404 Q580.535,982.9392 579.8959,983.0886 Q579.2567,983.238 578.5511,983.238 Q576.0443,983.238 574.7245,981.5862 Q573.4046,979.9343 573.4046,976.8132 Q573.4046,973.6838 574.7245,972.032 Q576.0443,970.3801 578.5511,970.3801 Q579.2567,970.3801 579.9042,970.5295 Q580.5516,970.6789 581.1161,970.9778 L581.1161,973.7004 Q580.4852,973.1194 579.8917,972.8496 Q579.2982,972.5798 578.6673,972.5798 Q577.3226,972.5798 576.6378,973.6465 Q575.953,974.7131 575.953,976.8132 Q575.953,978.905 576.6378,979.9717 Q577.3226,981.0383 578.6673,981.0383 Q579.2982,981.0383 579.8917,980.7685 Q580.4852,980.4988 581.1161,979.9177 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="119.2393" x="596.1429" y="982.0652">FormatOperation</text><line style="stroke:#000000;stroke-width:1;" x1="459.14" x2="824.8851" y1="990.4973" y2="990.4973"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="466.14" y="1001.5046"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="87.8828" x="476.14" y="1008.5725">options: dict</text><line style="stroke:#000000;stroke-width:1;" x1="459.14" x2="824.8851" y1="1015.512" y2="1015.512"/><ellipse cx="469.14" cy="1029.5193" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="343.7451" x="476.14" y="1033.5871">prepare_request(target: Path, content: str): dict</text><ellipse cx="469.14" cy="1046.5339" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="268.3926" x="476.14" y="1050.6018">process_response(response: dict): str</text></g><!--class RenameOperation--><g class="entity" data-entity="RenameOperation" data-source-line="65" data-uid="ent0011" id="entity_RenameOperation"><rect fill="#FFFFFF" height="112.0586" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="367.7451" x="861.14" y="953.9873"/><ellipse cx="978.0233" cy="967.9873" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M980.4964,974.1304 Q979.9154,974.4292 979.2762,974.5786 Q978.6371,974.728 977.9315,974.728 Q975.4247,974.728 974.1048,973.0762 Q972.785,971.4243 972.785,968.3032 Q972.785,965.1738 974.1048,963.522 Q975.4247,961.8701 977.9315,961.8701 Q978.6371,961.8701 979.2845,962.0195 Q979.932,962.1689 980.4964,962.4678 L980.4964,965.1904 Q979.8656,964.6094 979.2721,964.3396 Q978.6786,964.0698 978.0477,964.0698 Q976.703,964.0698 976.0182,965.1365 Q975.3334,966.2031 975.3334,968.3032 Q975.3334,970.395 976.0182,971.4617 Q976.703,972.5283 978.0477,972.5283 Q978.6786,972.5283 979.2721,972.2585 Q979.8656,971.9888 980.4964,971.4077 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="126.4785" x="995.5233" y="973.5552">RenameOperation</text><line style="stroke:#000000;stroke-width:1;" x1="862.14" x2="1227.8851" y1="981.9873" y2="981.9873"/><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="869.14" y="992.9946"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.251" x="879.14" y="1000.0625">old_name: str</text><rect fill="none" height="6" style="stroke:#000000;stroke-width:1;" width="6" x="869.14" y="1010.0093"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.8457" x="879.14" y="1017.0771">new_name: str</text><line style="stroke:#000000;stroke-width:1;" x1="862.14" x2="1227.8851" y1="1024.0166" y2="1024.0166"/><ellipse cx="872.14" cy="1038.0239" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="343.7451" x="879.14" y="1042.0918">prepare_request(target: Path, content: str): dict</text><ellipse cx="872.14" cy="1055.0386" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="274.9824" x="879.14" y="1059.1064">process_response(response: dict): dict</text></g><!--class FileData--><g class="entity" data-entity="FileData" data-source-line="73" data-uid="ent0012" id="entity_FileData"><rect fill="#FFFFFF" height="95.0439" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="117.2012" x="2248.42" y="59.7373"/><ellipse cx="2275.8253" cy="73.7373" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M2278.2984,79.8804 Q2277.7174,80.1792 2277.0782,80.3286 Q2276.439,80.478 2275.7335,80.478 Q2273.2266,80.478 2271.9068,78.8262 Q2270.587,77.1743 2270.587,74.0532 Q2270.587,70.9238 2271.9068,69.272 Q2273.2266,67.6201 2275.7335,67.6201 Q2276.439,67.6201 2277.0865,67.7695 Q2277.734,67.9189 2278.2984,68.2178 L2278.2984,70.9404 Q2277.6676,70.3594 2277.0741,70.0896 Q2276.4805,69.8198 2275.8497,69.8198 Q2274.505,69.8198 2273.8201,70.8865 Q2273.1353,71.9531 2273.1353,74.0532 Q2273.1353,76.145 2273.8201,77.2117 Q2274.505,78.2783 2275.8497,78.2783 Q2276.4805,78.2783 2277.0741,78.0085 Q2277.6676,77.7388 2278.2984,77.1577 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57.1895" x="2291.0264" y="79.3052">FileData</text><line style="stroke:#000000;stroke-width:1;" x1="2249.42" x2="2364.6212" y1="87.7373" y2="87.7373"/><ellipse cx="2259.42" cy="101.7446" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="74.0127" x="2266.42" y="105.8125">path: Path</text><ellipse cx="2259.42" cy="118.7593" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="82.9473" x="2266.42" y="122.8271">content: str</text><ellipse cx="2259.42" cy="135.7739" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="93.2012" x="2266.42" y="139.8418">encoding: str</text><line style="stroke:#000000;stroke-width:1;" x1="2249.42" x2="2364.6212" y1="146.7813" y2="146.7813"/></g><!--class ParsedFile--><g class="entity" data-entity="ParsedFile" data-source-line="79" data-uid="ent0013" id="entity_ParsedFile"><rect fill="#FFFFFF" height="78.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="176.9678" x="2218.53" y="265.8173"/><ellipse cx="2267.6384" cy="279.8173" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M2270.1115,285.9604 Q2269.5305,286.2592 2268.8913,286.4086 Q2268.2522,286.558 2267.5466,286.558 Q2265.0398,286.558 2263.7199,284.9062 Q2262.4001,283.2543 2262.4001,280.1332 Q2262.4001,277.0038 2263.7199,275.352 Q2265.0398,273.7001 2267.5466,273.7001 Q2268.2522,273.7001 2268.8996,273.8495 Q2269.5471,273.9989 2270.1115,274.2978 L2270.1115,277.0204 Q2269.4807,276.4394 2268.8872,276.1696 Q2268.2937,275.8998 2267.6628,275.8998 Q2266.3181,275.8998 2265.6333,276.9665 Q2264.9485,278.0331 2264.9485,280.1332 Q2264.9485,282.225 2265.6333,283.2917 Q2266.3181,284.3583 2267.6628,284.3583 Q2268.2937,284.3583 2268.8872,284.0885 Q2269.4807,283.8188 2270.1115,283.2377 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.251" x="2285.1384" y="285.3852">ParsedFile</text><line style="stroke:#000000;stroke-width:1;" x1="2219.53" x2="2394.4978" y1="293.8173" y2="293.8173"/><ellipse cx="2229.53" cy="307.8246" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="57.873" x="2236.53" y="311.8925">ast: dict</text><ellipse cx="2229.53" cy="324.8393" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="152.9678" x="2236.53" y="328.9071">parse_errors: list[str]</text><line style="stroke:#000000;stroke-width:1;" x1="2219.53" x2="2394.4978" y1="335.8466" y2="335.8466"/></g><!--class ValidatedFile--><g class="entity" data-entity="ValidatedFile" data-source-line="84" data-uid="ent0014" id="entity_ValidatedFile"><rect fill="#FFFFFF" height="78.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="233.7061" x="2190.16" y="454.8673"/><ellipse cx="2258.5423" cy="468.8673" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M2261.0155,475.0104 Q2260.4344,475.3092 2259.7953,475.4586 Q2259.1561,475.608 2258.4505,475.608 Q2255.9437,475.608 2254.6239,473.9562 Q2253.304,472.3043 2253.304,469.1832 Q2253.304,466.0538 2254.6239,464.402 Q2255.9437,462.7501 2258.4505,462.7501 Q2259.1561,462.7501 2259.8036,462.8995 Q2260.451,463.0489 2261.0155,463.3478 L2261.0155,466.0704 Q2260.3846,465.4894 2259.7911,465.2196 Q2259.1976,464.9498 2258.5667,464.9498 Q2257.222,464.9498 2256.5372,466.0165 Q2255.8524,467.0831 2255.8524,469.1832 Q2255.8524,471.275 2256.5372,472.3417 Q2257.222,473.4083 2258.5667,473.4083 Q2259.1976,473.4083 2259.7911,473.1385 Q2260.3846,472.8688 2261.0155,472.2877 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="89.4414" x="2276.0423" y="474.4352">ValidatedFile</text><line style="stroke:#000000;stroke-width:1;" x1="2191.16" x2="2422.8661" y1="482.8673" y2="482.8673"/><ellipse cx="2201.16" cy="496.8746" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="89.8379" x="2208.16" y="500.9425">is_safe: bool</text><ellipse cx="2201.16" cy="513.8893" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="209.7061" x="2208.16" y="517.9571">validation_messages: list[str]</text><line style="stroke:#000000;stroke-width:1;" x1="2191.16" x2="2422.8661" y1="524.8966" y2="524.8966"/></g><!--class ProcessedFile--><g class="entity" data-entity="ProcessedFile" data-source-line="89" data-uid="ent0015" id="entity_ProcessedFile"><rect fill="#FFFFFF" height="78.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="147.2656" x="2233.38" y="626.9173"/><ellipse cx="2257.6291" cy="640.9173" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M2260.1023,647.0604 Q2259.5212,647.3592 2258.8821,647.5086 Q2258.2429,647.658 2257.5373,647.658 Q2255.0305,647.658 2253.7107,646.0062 Q2252.3908,644.3543 2252.3908,641.2332 Q2252.3908,638.1038 2253.7107,636.452 Q2255.0305,634.8001 2257.5373,634.8001 Q2258.2429,634.8001 2258.8904,634.9495 Q2259.5378,635.0989 2260.1023,635.3978 L2260.1023,638.1204 Q2259.4714,637.5394 2258.8779,637.2696 Q2258.2844,636.9998 2257.6535,636.9998 Q2256.3088,636.9998 2255.624,638.0665 Q2254.9392,639.1331 2254.9392,641.2332 Q2254.9392,643.325 2255.624,644.3917 Q2256.3088,645.4583 2257.6535,645.4583 Q2258.2844,645.4583 2258.8779,645.1885 Q2259.4714,644.9188 2260.1023,644.3377 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.2676" x="2272.1289" y="646.4852">ProcessedFile</text><line style="stroke:#000000;stroke-width:1;" x1="2234.38" x2="2379.6456" y1="654.9173" y2="654.9173"/><ellipse cx="2244.38" cy="668.9246" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="106.5791" x="2251.38" y="672.9925">lsp_result: Any</text><ellipse cx="2244.38" cy="685.9393" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="123.2656" x="2251.38" y="690.0071">lsp_success: bool</text><line style="stroke:#000000;stroke-width:1;" x1="2234.38" x2="2379.6456" y1="696.9466" y2="696.9466"/></g><!--class FormattedFile--><g class="entity" data-entity="FormattedFile" data-source-line="94" data-uid="ent0016" id="entity_FormattedFile"><rect fill="#FFFFFF" height="78.0293" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="205.4053" x="2204.31" y="798.9573"/><ellipse cx="2254.9086" cy="812.9573" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M2257.3818,819.1004 Q2256.8007,819.3992 2256.1616,819.5486 Q2255.5224,819.698 2254.8168,819.698 Q2252.31,819.698 2250.9902,818.0462 Q2249.6704,816.3943 2249.6704,813.2732 Q2249.6704,810.1438 2250.9902,808.492 Q2252.31,806.8401 2254.8168,806.8401 Q2255.5224,806.8401 2256.1699,806.9895 Q2256.8173,807.1389 2257.3818,807.4378 L2257.3818,810.1604 Q2256.7509,809.5794 2256.1574,809.3096 Q2255.5639,809.0398 2254.933,809.0398 Q2253.5883,809.0398 2252.9035,810.1065 Q2252.2187,811.1731 2252.2187,813.2732 Q2252.2187,815.365 2252.9035,816.4317 Q2253.5883,817.4983 2254.933,817.4983 Q2255.5639,817.4983 2256.1574,817.2285 Q2256.7509,816.9588 2257.3818,816.3777 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96.708" x="2272.4086" y="818.5252">FormattedFile</text><line style="stroke:#000000;stroke-width:1;" x1="2205.31" x2="2408.7153" y1="826.9573" y2="826.9573"/><ellipse cx="2215.31" cy="840.9646" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="121.7207" x="2222.31" y="845.0325">final_content: str</text><ellipse cx="2215.31" cy="857.9793" fill="none" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="181.4053" x="2222.31" y="862.0471">patterns_applied: list[str]</text><line style="stroke:#000000;stroke-width:1;" x1="2205.31" x2="2408.7153" y1="868.9866" y2="868.9866"/></g><!--class IALSClient--><g class="entity" data-entity="IALSClient" data-source-line="100" data-uid="ent0017" id="entity_IALSClient"><rect fill="#FFFFFF" height="61.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="351.2432" x="1062.39" y="807.4673"/><ellipse cx="1197.7679" cy="821.4673" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M1194.1957,817.7324 L1194.1957,815.5742 L1201.5751,815.5742 L1201.5751,817.7324 L1199.1097,817.7324 L1199.1097,825.8091 L1201.5751,825.8091 L1201.5751,827.9673 L1194.1957,827.9673 L1194.1957,825.8091 L1196.661,825.8091 L1196.661,817.7324 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72.9873" x="1215.2679" y="827.0352">IALSClient</text><line style="stroke:#000000;stroke-width:1;" x1="1063.39" x2="1412.6332" y1="835.4673" y2="835.4673"/><line style="stroke:#000000;stroke-width:1;" x1="1063.39" x2="1412.6332" y1="843.4673" y2="843.4673"/><ellipse cx="1073.39" cy="857.4746" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="327.2432" x="1080.39" y="861.5425">send_request(method: str, params: dict): dict</text></g><!--class IParserService--><g class="entity" data-entity="IParserService" data-source-line="104" data-uid="ent0018" id="entity_IParserService"><rect fill="#FFFFFF" height="61.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="197.4482" x="46.29" y="807.4673"/><ellipse cx="90.2851" cy="821.4673" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M86.7129,817.7324 L86.7129,815.5742 L94.0922,815.5742 L94.0922,817.7324 L91.6269,817.7324 L91.6269,825.8091 L94.0922,825.8091 L94.0922,827.9673 L86.7129,827.9673 L86.7129,825.8091 L89.1782,825.8091 L89.1782,817.7324 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101.958" x="107.7851" y="827.0352">IParserService</text><line style="stroke:#000000;stroke-width:1;" x1="47.29" x2="242.7382" y1="835.4673" y2="835.4673"/><line style="stroke:#000000;stroke-width:1;" x1="47.29" x2="242.7382" y1="843.4673" y2="843.4673"/><ellipse cx="57.29" cy="857.4746" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="173.4482" x="64.29" y="861.5425">parse(content: str): AST</text></g><!--class IValidator--><g class="entity" data-entity="IValidator" data-source-line="108" data-uid="ent0019" id="entity_IValidator"><rect fill="#FFFFFF" height="61.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="346.4443" x="278.79" y="807.4673"/><ellipse cx="413.9321" cy="821.4673" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M410.3598,817.7324 L410.3598,815.5742 L417.7392,815.5742 L417.7392,817.7324 L415.2739,817.7324 L415.2739,825.8091 L417.7392,825.8091 L417.7392,827.9673 L410.3598,827.9673 L410.3598,825.8091 L412.8252,825.8091 L412.8252,817.7324 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68.6602" x="431.4321" y="827.0352">IValidator</text><line style="stroke:#000000;stroke-width:1;" x1="279.79" x2="624.2343" y1="835.4673" y2="835.4673"/><line style="stroke:#000000;stroke-width:1;" x1="279.79" x2="624.2343" y1="843.4673" y2="843.4673"/><ellipse cx="289.79" cy="857.4746" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="322.4443" x="296.79" y="861.5425">validate(parsed: ParsedFile): ValidationResult</text></g><!--class IGNATValidator--><g class="entity" data-entity="IGNATValidator" data-source-line="112" data-uid="ent0020" id="entity_IGNATValidator"><rect fill="#FFFFFF" height="61.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="413.2725" x="1756.38" y="807.4673"/><ellipse cx="1905.1803" cy="821.4673" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M1901.608,817.7324 L1901.608,815.5742 L1908.9874,815.5742 L1908.9874,817.7324 L1906.5221,817.7324 L1906.5221,825.8091 L1908.9874,825.8091 L1908.9874,827.9673 L1901.608,827.9673 L1901.608,825.8091 L1904.0734,825.8091 L1904.0734,817.7324 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="108.1719" x="1922.6803" y="827.0352">IGNATValidator</text><line style="stroke:#000000;stroke-width:1;" x1="1757.38" x2="2168.6525" y1="835.4673" y2="835.4673"/><line style="stroke:#000000;stroke-width:1;" x1="1757.38" x2="2168.6525" y1="843.4673" y2="843.4673"/><ellipse cx="1767.38" cy="857.4746" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="389.2725" x="1774.38" y="861.5425">validate_file(path: Path, content: str): ValidationResult</text></g><!--class IEventBus--><g class="entity" data-entity="IEventBus" data-source-line="116" data-uid="ent0021" id="entity_IEventBus"><rect fill="#FFFFFF" height="61.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="217.9561" x="1107.04" y="463.3773"/><ellipse cx="1176.5263" cy="477.3773" fill="#FFFFFF" rx="9" ry="9" style="stroke:#000000;stroke-width:1;"/><path d="M1172.9541,473.6424 L1172.9541,471.4842 L1180.3335,471.4842 L1180.3335,473.6424 L1177.8681,473.6424 L1177.8681,481.7191 L1180.3335,481.7191 L1180.3335,483.8773 L1172.9541,483.8773 L1172.9541,481.7191 L1175.4194,481.7191 L1175.4194,473.6424 Z " fill="#000000"/><text fill="#000000" font-family="Verdana" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71.4834" x="1194.0263" y="482.9452">IEventBus</text><line style="stroke:#000000;stroke-width:1;" x1="1108.04" x2="1323.9961" y1="491.3773" y2="491.3773"/><line style="stroke:#000000;stroke-width:1;" x1="1108.04" x2="1323.9961" y1="499.3773" y2="499.3773"/><ellipse cx="1118.04" cy="513.3846" fill="#FFFFFF" rx="3" ry="3" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="193.9561" x="1125.04" y="517.4525">publish(event: Event): void</text></g><g class="entity" data-entity="GMN40" data-source-line="146" data-uid="ent0041" id="entity_GMN40"><path d="M965.21,70.6673 L965.21,143.8646 A0,0 0 0 0 965.21,143.8646 L1115.02,143.8646 L1119.02,231.3273 L1123.02,143.8646 L1272.8257,143.8646 A0,0 0 0 0 1272.8257,143.8646 L1272.8257,80.6673 L1262.8257,70.6673 L965.21,70.6673 A0,0 0 0 0 965.21,70.6673" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1262.8257,70.6673 L1262.8257,80.6673 L1272.8257,80.6673 L1262.8257,70.6673" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="286.6157" x="971.21" y="88.7371">Pipeline depends only on Stage abstraction,</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="239.7954" x="971.21" y="104.5364">not concrete stage implementations.</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="251.2974" x="971.21" y="120.3358">This allows adding new stages without</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="149.938" x="971.21" y="136.1351">modifying the pipeline.</text></g><g class="entity" data-entity="GMN43" data-source-line="153" data-uid="ent0044" id="entity_GMN43"><path d="M1448.42,809.2773 L1448.42,866.6753 L1721.6187,866.6753 L1721.6187,819.2773 L1711.6187,809.2773 L1448.42,809.2773" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1711.6187,809.2773 L1711.6187,819.2773 L1721.6187,819.2773 L1711.6187,809.2773" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="252.1987" x="1454.42" y="827.3471">Stages depend on service abstractions</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="214.1191" x="1454.42" y="843.1464">(IALSClient, IParserService), not</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="173.8687" x="1454.42" y="858.9458">concrete implementations.</text></g><!--link Pipeline to Stage--><g class="link" data-entity-1="Pipeline" data-entity-2="Stage" data-source-line="121" data-uid="lnk22" id="link_Pipeline_Stage"><path codeLine="121" d="M1032.44,378.1073 C1024.37,387.4873 1017,397.4773 1011.02,407.8673 C1002.84,422.0673 999.1111,433.5092 996.2511,448.8292" fill="none" id="Pipeline-to-Stage" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="995.15,454.7273,1000.7337,446.6142,996.0676,449.8122,992.8696,445.1461,995.15,454.7273" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.7817" x="1012.02" y="421.9371">depends on abstraction</text></g><!--link Pipeline to IEventBus--><g class="link" data-entity-1="Pipeline" data-entity-2="IEventBus" data-source-line="122" data-uid="lnk23" id="link_Pipeline_IEventBus"><path codeLine="122" d="M1156.52,378.1473 C1171.87,407.7573 1186.0187,435.0305 1197.8687,457.8905" fill="none" id="Pipeline-to-IEventBus" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="1200.63,463.2173,1200.0393,453.3862,1198.3289,458.7783,1192.9368,457.0679,1200.63,463.2173" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.7817" x="1180.06" y="421.9371">depends on abstraction</text></g><!--reverse link Stage to ParseStage--><g class="link" data-entity-1="Stage" data-entity-2="ParseStage" data-source-line="124" data-uid="lnk24" id="link_Stage_ParseStage"><path codeLine="124" d="M891.6838,513.2304 C777.8138,534.4204 582.65,571.4773 402.02,609.8973 C373.59,615.9473 343.34,622.6773 314.25,629.3073" fill="none" id="Stage-backto-ParseStage" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="909.38,509.9373,890.5861,507.3316,892.7815,519.1291,909.38,509.9373" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.1338" x="629.29" y="576.9671">implements</text></g><!--reverse link Stage to ValidateStage--><g class="link" data-entity-1="Stage" data-entity-2="ValidateStage" data-source-line="125" data-uid="lnk25" id="link_Stage_ValidateStage"><path codeLine="125" d="M893.1872,535.3584 C831.3072,560.9584 761.98,589.6473 693.33,618.0473" fill="none" id="Stage-backto-ValidateStage" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="909.82,528.4773,890.8935,529.8141,895.4809,540.9026,909.82,528.4773" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.1338" x="823.33" y="576.9671">implements</text></g><!--reverse link Stage to LSPStage--><g class="link" data-entity-1="Stage" data-entity-2="LSPStage" data-source-line="126" data-uid="lnk26" id="link_Stage_LSPStage"><path codeLine="126" d="M991.02,551.0473 C991.02,573.5673 991.02,584.4673 991.02,609.4773" fill="none" id="Stage-backto-LSPStage" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="991.02,533.0473,985.02,551.0473,997.02,551.0473,991.02,533.0473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.1338" x="992.02" y="576.9671">implements</text></g><!--reverse link Stage to PatternStage--><g class="link" data-entity-1="Stage" data-entity-2="PatternStage" data-source-line="127" data-uid="lnk27" id="link_Stage_PatternStage"><path codeLine="127" d="M1088.9477,536.3101 C1143.3177,559.3101 1199.48,583.0673 1261.93,609.4873" fill="none" id="Stage-backto-PatternStage" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="1072.37,529.2973,1086.6101,541.836,1091.2853,530.7842,1072.37,529.2973" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.1338" x="1180.96" y="576.9671">implements</text></g><!--reverse link Stage to GNATValidationStage--><g class="link" data-entity-1="Stage" data-entity-2="GNATValidationStage" data-source-line="128" data-uid="lnk28" id="link_Stage_GNATValidationStage"><path codeLine="128" d="M1089.8257,533.2869 C1095.6457,535.1469 1084.32,531.3973 1090.02,532.8973 C1145.21,547.4973 1542.02,598.7773 1598.02,609.8973 C1610.43,612.3673 1623.2,615.0673 1636.04,617.9073" fill="none" id="Stage-backto-GNATValidationStage" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="1072.68,527.8073,1087.9992,539.0021,1091.6522,527.5716,1072.68,527.8073" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.1338" x="1385.29" y="576.9671">implements</text></g><!--reverse link LSPOperation to FormatOperation--><g class="link" data-entity-1="LSPOperation" data-entity-2="FormatOperation" data-source-line="130" data-uid="lnk29" id="link_LSPOperation_FormatOperation"><path codeLine="130" d="M784.6596,888.9393 C754.7596,914.1093 729.23,935.5973 697.51,962.2973" fill="none" id="LSPOperation-backto-FormatOperation" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="798.43,877.3473,780.7956,884.3492,788.5236,893.5295,798.43,877.3473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.1338" x="762.11" y="921.0571">implements</text></g><!--reverse link LSPOperation to RenameOperation--><g class="link" data-entity-1="LSPOperation" data-entity-2="RenameOperation" data-source-line="131" data-uid="lnk30" id="link_LSPOperation_RenameOperation"><path codeLine="131" d="M903.1139,888.9708 C929.7539,911.5008 950.12,928.7373 979.62,953.6873" fill="none" id="LSPOperation-backto-RenameOperation" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="none" points="889.37,877.3473,899.2394,893.5521,906.9884,884.3895,889.37,877.3473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="76.1338" x="939.49" y="921.0571">implements</text></g><!--link LSPStage to IALSClient--><g class="link" data-entity-1="LSPStage" data-entity-2="IALSClient" data-source-line="133" data-uid="lnk31" id="link_LSPStage_IALSClient"><path codeLine="133" d="M1071.55,722.3773 C1112.52,750.5773 1155.7484,780.3342 1189.6984,803.7142" fill="none" id="LSPStage-to-IALSClient" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="1194.64,807.1173,1189.4963,798.7183,1190.522,804.2814,1184.9589,805.3071,1194.64,807.1173" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.7817" x="1137.64" y="766.0271">depends on abstraction</text></g><!--link LSPStage to LSPOperation--><g class="link" data-entity-1="LSPStage" data-entity-2="LSPOperation" data-source-line="134" data-uid="lnk32" id="link_LSPStage_LSPOperation"><path codeLine="134" d="M943.29,722.1373 C921.66,747.1573 900.5439,771.5783 881.0239,794.1583" fill="none" id="LSPStage-to-LSPOperation" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="877.1,798.6973,886.0119,794.5047,880.3699,794.9148,879.9598,789.2728,877.1,798.6973" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.7817" x="914.11" y="766.0271">depends on abstraction</text></g><!--link ParseStage to IParserService--><g class="link" data-entity-1="ParseStage" data-entity-2="IParserService" data-source-line="135" data-uid="lnk33" id="link_ParseStage_IParserService"><path codeLine="135" d="M158.05,713.8473 C154.9,743.6273 151.5418,775.3207 148.8118,801.1007" fill="none" id="ParseStage-to-IParserService" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="148.18,807.0673,153.1055,798.5386,148.7065,802.0951,145.15,797.6961,148.18,807.0673" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.7817" x="154.48" y="766.0271">depends on abstraction</text></g><!--link ValidateStage to IValidator--><g class="link" data-entity-1="ValidateStage" data-entity-2="IValidator" data-source-line="136" data-uid="lnk34" id="link_ValidateStage_IValidator"><path codeLine="136" d="M544.7,713.8473 C522.28,743.6273 497.5377,776.4931 478.1377,802.2731" fill="none" id="ValidateStage-to-IValidator" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="474.53,807.0673,483.1377,802.2812,477.5364,803.0721,476.7455,797.4709,474.53,807.0673" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.7817" x="513.18" y="766.0271">depends on abstraction</text></g><!--link GNATValidationStage to IGNATValidator--><g class="link" data-entity-1="GNATValidationStage" data-entity-2="IGNATValidator" data-source-line="137" data-uid="lnk35" id="link_GNATValidationStage_IGNATValidator"><path codeLine="137" d="M1860.19,713.8473 C1885.07,743.6273 1912.664,776.6821 1934.194,802.4621" fill="none" id="GNATValidationStage-to-IGNATValidator" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#000000" points="1938.04,807.0673,1935.3411,797.5955,1934.835,803.2296,1929.2008,802.7235,1938.04,807.0673" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.7817" x="1905.73" y="766.0271">depends on abstraction</text></g><!--reverse link FileData to ParsedFile--><g class="link" data-entity-1="FileData" data-entity-2="ParsedFile" data-source-line="140" data-uid="lnk36" id="link_FileData_ParsedFile"><path codeLine="140" d="M2307.02,173.1073 C2307.02,206.8873 2307.02,233.9373 2307.02,265.5673" fill="none" id="FileData-backto-ParsedFile" style="stroke:#000000;stroke-width:1;"/><polygon fill="none" points="2307.02,155.1073,2301.02,173.1073,2313.02,173.1073,2307.02,155.1073" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.4033" x="2308.02" y="198.8571">extends</text></g><!--reverse link ParsedFile to ValidatedFile--><g class="link" data-entity-1="ParsedFile" data-entity-2="ValidatedFile" data-source-line="141" data-uid="lnk37" id="link_ParsedFile_ValidatedFile"><path codeLine="141" d="M2307.02,362.1373 C2307.02,394.4173 2307.02,422.3673 2307.02,454.6273" fill="none" id="ParsedFile-backto-ValidatedFile" style="stroke:#000000;stroke-width:1;"/><polygon fill="none" points="2307.02,344.1373,2301.02,362.1373,2313.02,362.1373,2307.02,344.1373" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.4033" x="2308.02" y="421.9371">extends</text></g><!--reverse link ValidatedFile to ProcessedFile--><g class="link" data-entity-1="ValidatedFile" data-entity-2="ProcessedFile" data-source-line="142" data-uid="lnk38" id="link_ValidatedFile_ProcessedFile"><path codeLine="142" d="M2307.02,551.0473 C2307.02,578.9573 2307.02,598.6573 2307.02,626.6073" fill="none" id="ValidatedFile-backto-ProcessedFile" style="stroke:#000000;stroke-width:1;"/><polygon fill="none" points="2307.02,533.0473,2301.02,551.0473,2313.02,551.0473,2307.02,533.0473" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.4033" x="2308.02" y="576.9671">extends</text></g><!--reverse link ProcessedFile to FormattedFile--><g class="link" data-entity-1="ProcessedFile" data-entity-2="FormattedFile" data-source-line="143" data-uid="lnk39" id="link_ProcessedFile_FormattedFile"><path codeLine="143" d="M2307.02,723.0873 C2307.02,750.9973 2307.02,770.6973 2307.02,798.6473" fill="none" id="ProcessedFile-backto-FormattedFile" style="stroke:#000000;stroke-width:1;"/><polygon fill="none" points="2307.02,705.0873,2301.02,723.0873,2313.02,723.0873,2307.02,705.0873" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="51.4033" x="2308.02" y="766.0271">extends</text></g><!--link LSPStage to GMN43--><g class="link" data-entity-1="LSPStage" data-entity-2="GMN43" data-source-line="153" data-uid="lnk45" id="link_LSPStage_GMN43"><path d="M1171.62,717.4473 C1177.15,718.9673 1182.62,720.4773 1188.02,721.9573 C1237.29,735.4973 1249.85,738.0073 1299.02,751.9573 C1363.8,770.3373 1436.54,791.9773 1492.45,808.8173" fill="none" id="LSPStage-GMN43" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--SRC=[jLTBR-Cs4BxhLx2vH44Jzovi2xZ9RX5WqGQniPV046Xf7BEWI9MaamRT_lSENo8fHztJNdQLuSmt7-T9_s2EC00PEMMYCinm80zi1Cu4aBNgZin0PquAo2ipHt9t_q1kvJ1oHaK7LNL9xk1WLKSbZUmarpynOK0TQ0UwcZx9nj1d8FzKXFneLV5GruWyD6HxrP179nTqW8Peewf_gypqy-RXZn4KDKoA2G56gg1LyDS9jAaDLSzW6l90pV6QT19jXN5G2DwppkH-qKgFKcYeuuVNGTMjzNoPxa_t244xwxdgEDKw7LaYD-W1hwKRmfasJ-wEEoU75oJGxazuTF_HVlzwqeu3xVlM6TNktyO71br7OAUbmRIKwxRZ36rh_nz2hJzlRjqt6hn8rY-54_I9cwS86VvytEsACE3LW0xE36ckzPlexesDirHFsztLN9IXk23TIj4fC11Y4ED3bOQKx1ioMe52xkv4RK2zi0uAuWV6eUsfeGtvX9zt-6K3OlLxAoYBW_nCBXpeXUNXlNwXd250uVZ5owIAwRd_4YL576e7rkSEqNj4N20Gm7CEMAQv-vI-F6_kICPgRehQBaX51_sCYWsCLrcYnlMOiSAEm0IACYDE5CCID7pTZaUgGmyM8OekPzwHpIUf1ekmc2c7dZ7wxVVrDbm9BvqJUnRKj5FQC6oPgYm97QBN6O5l4ygTeFyBNyoO1p8b8jQoHofdZysUqodcolUPHc4IUZAFOAznHeRtRHgRLYBWjP1yFtfErKNFTYmvSFbAvFvFt1PJ04CtnwcD3hrRzsVksGb0TB9dudbsyzIN0OTganErnoqebJeTpNVdmo67O3Z-w07lifUIEqagYNR0UsTZlKGhwZ-WOSlPEE5unA4ftYQPFdLMDtYP88eA3H2uGoblpq8IUxMb8wvSM-u5fKloyMzxJZck33TOoRlRDmsWu4w3wAU26C0SPU-SNjjmqa6V9Jd3AWRvb5gKrRDQMc-sCzEfcODPd7B_EuCn9NxtpC2AwJ03RErEgLF1dTNvDx3ZpexNE-qnxiVQhVM6kDEuWbqQ7e7xqN5aeyOkjC-aBZoJJ3Kz6bQhNy9B22CB8oP14-pb_9bHw2OUY_gLn_lmTRNAbsz367h7Xvt0RinKoasvf3NjiYM5OgqiARqtwGlTgdZQEPlvp2tqpzNdK_4CtdjriKmzi1ZCmg3mjfol57FdfUoEHRCo3yuorVAYrNiHTRPbBomNIpQhgsawV_XwSvDFsOO0JXKqhpAXKof7QT8hvHwlc9CPP25tgkKyJAgLaFYyD78ayf2_ZwSMIRVaR_QgFY3PXQzH6q5iysTlrLGZlcTNgBKzCerlDeoBjczqt49sauQthVlf8qzstmoueGvlzXX_Df4nC5bLoCDwWa1wBusHW-KTImfjDnxCixPyuypE6DjV2NKgrUjPGLrTMo-eCztex2uJa_y0]--></g></svg>